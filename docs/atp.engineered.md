# atp.engineered

## Description

Preprocessed ML features. V31: Standardized timestamp triggers.

## Columns

| Name | Type | Default | Nullable | Children | Parents | Comment |
| ---- | ---- | ------- | -------- | -------- | ------- | ------- |
| imdb_id | varchar(10) |  | false |  |  |  |
| media_title | varchar(255) |  | true |  |  |  |
| label | integer |  | true |  |  |  |
| release_year | double precision |  | true |  |  |  |
| budget | double precision |  | true |  |  |  |
| revenue | double precision |  | true |  |  |  |
| runtime | double precision |  | true |  |  |  |
| tmdb_rating | numeric(5,3) |  | true |  |  |  |
| tmdb_votes | double precision |  | true |  |  |  |
| rt_score | double precision |  | true |  |  |  |
| metascore | double precision |  | true |  |  |  |
| imdb_rating | numeric(4,1) |  | true |  |  |  |
| imdb_votes | double precision |  | true |  |  |  |
| production_status | varchar(25) |  | true |  |  |  |
| original_language | character(2) |  | true |  |  |  |
| origin_country | smallint[] |  | true |  |  |  |
| production_countries | smallint[] |  | true |  |  |  |
| spoken_languages | smallint[] |  | true |  |  |  |
| genre | smallint[] |  | true |  |  |  |
| created_at | timestamp with time zone | (CURRENT_TIMESTAMP AT TIME ZONE 'UTC'::text) | false |  |  |  |
| updated_at | timestamp with time zone | (CURRENT_TIMESTAMP AT TIME ZONE 'UTC'::text) | false |  |  |  |
| production_companies | smallint[] |  | true |  |  | One-hot encoded production company indices for ML feature engineering |
| anomalous | boolean | false | false |  |  | flag for media items that frequently appear as false positives or false negatives in model results, but have been verified to be correct |

## Constraints

| Name | Type | Definition |
| ---- | ---- | ---------- |
| engineered_pkey | PRIMARY KEY | PRIMARY KEY (imdb_id) |

## Indexes

| Name | Definition |
| ---- | ---------- |
| engineered_pkey | CREATE UNIQUE INDEX engineered_pkey ON atp.engineered USING btree (imdb_id) |

## Triggers

| Name | Definition |
| ---- | ---------- |
| trg_engineered_update_timestamp | CREATE TRIGGER trg_engineered_update_timestamp BEFORE UPDATE ON atp.engineered FOR EACH ROW EXECUTE FUNCTION atp.set_updated_at() |

## Relations

![er](atp.engineered.svg)

---

> Generated by [tbls](https://github.com/k1LoW/tbls)
