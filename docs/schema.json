{"name":"test_db","desc":"","tables":[{"name":"public.flyway_schema_history","type":"BASE TABLE","comment":"","columns":[{"name":"installed_rank","type":"integer","nullable":false,"default":null,"comment":""},{"name":"version","type":"varchar(50)","nullable":true,"default":null,"comment":""},{"name":"description","type":"varchar(200)","nullable":false,"default":null,"comment":""},{"name":"type","type":"varchar(20)","nullable":false,"default":null,"comment":""},{"name":"script","type":"varchar(1000)","nullable":false,"default":null,"comment":""},{"name":"checksum","type":"integer","nullable":true,"default":null,"comment":""},{"name":"installed_by","type":"varchar(100)","nullable":false,"default":null,"comment":""},{"name":"installed_on","type":"timestamp without time zone","nullable":false,"default":"now()","comment":""},{"name":"execution_time","type":"integer","nullable":false,"default":null,"comment":""},{"name":"success","type":"boolean","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"flyway_schema_history_pk","def":"CREATE UNIQUE INDEX flyway_schema_history_pk ON public.flyway_schema_history USING btree (installed_rank)","table":"public.flyway_schema_history","columns":["installed_rank"],"comment":""},{"name":"flyway_schema_history_s_idx","def":"CREATE INDEX flyway_schema_history_s_idx ON public.flyway_schema_history USING btree (success)","table":"public.flyway_schema_history","columns":["success"],"comment":""}],"constraints":[{"name":"flyway_schema_history_pk","type":"PRIMARY KEY","def":"PRIMARY KEY (installed_rank)","table":"public.flyway_schema_history","referenced_table":"","columns":["installed_rank"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"atp.media","type":"BASE TABLE","comment":"","columns":[{"name":"hash","type":"character(40)","nullable":false,"default":null,"comment":""},{"name":"media_type","type":"atp.media_type","nullable":false,"default":null,"comment":""},{"name":"media_title","type":"varchar(255)","nullable":true,"default":null,"comment":""},{"name":"season","type":"integer","nullable":true,"default":null,"comment":""},{"name":"episode","type":"integer","nullable":true,"default":null,"comment":""},{"name":"release_year","type":"integer","nullable":true,"default":null,"comment":""},{"name":"pipeline_status","type":"atp.pipeline_status","nullable":false,"default":"'ingested'::atp.pipeline_status","comment":""},{"name":"error_status","type":"boolean","nullable":false,"default":"false","comment":""},{"name":"error_condition","type":"text","nullable":true,"default":null,"comment":""},{"name":"rejection_status","type":"atp.rejection_status","nullable":false,"default":"'unfiltered'::atp.rejection_status","comment":""},{"name":"rejection_reason","type":"text","nullable":true,"default":null,"comment":""},{"name":"parent_path","type":"text","nullable":true,"default":null,"comment":""},{"name":"target_path","type":"text","nullable":true,"default":null,"comment":""},{"name":"original_title","type":"text","nullable":false,"default":null,"comment":""},{"name":"original_path","type":"text","nullable":true,"default":null,"comment":""},{"name":"original_link","type":"text","nullable":true,"default":null,"comment":""},{"name":"rss_source","type":"atp.rss_source","nullable":true,"default":null,"comment":""},{"name":"uploader","type":"varchar(25)","nullable":true,"default":null,"comment":""},{"name":"imdb_id","type":"varchar(10)","nullable":true,"default":null,"comment":""},{"name":"tmdb_id","type":"integer","nullable":true,"default":null,"comment":""},{"name":"budget","type":"bigint","nullable":true,"default":null,"comment":""},{"name":"revenue","type":"bigint","nullable":true,"default":null,"comment":""},{"name":"runtime","type":"integer","nullable":true,"default":null,"comment":""},{"name":"origin_country","type":"character(2)[]","nullable":true,"default":null,"comment":""},{"name":"production_companies","type":"varchar(255)[]","nullable":true,"default":null,"comment":""},{"name":"production_countries","type":"character(2)[]","nullable":true,"default":null,"comment":""},{"name":"production_status","type":"varchar(25)","nullable":true,"default":null,"comment":""},{"name":"original_language","type":"character(2)","nullable":true,"default":null,"comment":""},{"name":"spoken_languages","type":"character(2)[]","nullable":true,"default":null,"comment":""},{"name":"genre","type":"varchar(20)[]","nullable":true,"default":null,"comment":""},{"name":"original_media_title","type":"varchar(255)","nullable":true,"default":null,"comment":""},{"name":"tagline","type":"varchar(255)","nullable":true,"default":null,"comment":""},{"name":"overview","type":"text","nullable":true,"default":null,"comment":""},{"name":"tmdb_rating","type":"numeric(5,3)","nullable":true,"default":null,"comment":""},{"name":"tmdb_votes","type":"integer","nullable":true,"default":null,"comment":""},{"name":"rt_score","type":"integer","nullable":true,"default":null,"comment":""},{"name":"metascore","type":"integer","nullable":true,"default":null,"comment":""},{"name":"imdb_rating","type":"numeric(4,1)","nullable":true,"default":null,"comment":""},{"name":"imdb_votes","type":"integer","nullable":true,"default":null,"comment":""},{"name":"resolution","type":"varchar(10)","nullable":true,"default":null,"comment":""},{"name":"video_codec","type":"varchar(10)","nullable":true,"default":null,"comment":""},{"name":"upload_type","type":"varchar(10)","nullable":true,"default":null,"comment":""},{"name":"audio_codec","type":"varchar(10)","nullable":true,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"(CURRENT_TIMESTAMP AT TIME ZONE 'UTC'::text)","comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"(CURRENT_TIMESTAMP AT TIME ZONE 'UTC'::text)","comment":""}],"indexes":[{"name":"media_pkey","def":"CREATE UNIQUE INDEX media_pkey ON atp.media USING btree (hash)","table":"atp.media","columns":["hash"],"comment":""},{"name":"idx_media_imdb_id","def":"CREATE INDEX idx_media_imdb_id ON atp.media USING btree (imdb_id)","table":"atp.media","columns":["imdb_id"],"comment":""},{"name":"idx_media_tmdb_id","def":"CREATE INDEX idx_media_tmdb_id ON atp.media USING btree (tmdb_id)","table":"atp.media","columns":["tmdb_id"],"comment":""},{"name":"idx_media_pipeline_status","def":"CREATE INDEX idx_media_pipeline_status ON atp.media USING btree (pipeline_status)","table":"atp.media","columns":["pipeline_status"],"comment":""}],"constraints":[{"name":"media_budget_check","type":"CHECK","def":"CHECK ((budget \u003e= 0))","table":"atp.media","referenced_table":"","columns":["budget"],"referenced_columns":[],"comment":""},{"name":"media_hash_check","type":"CHECK","def":"CHECK (((hash ~ '^[a-f0-9]+$'::text) AND (length(hash) = 40)))","table":"atp.media","referenced_table":"","columns":["hash"],"referenced_columns":[],"comment":""},{"name":"media_imdb_id_check","type":"CHECK","def":"CHECK (((imdb_id)::text ~ '^tt[0-9]{7,8}$'::text))","table":"atp.media","referenced_table":"","columns":["imdb_id"],"referenced_columns":[],"comment":""},{"name":"media_imdb_rating_check","type":"CHECK","def":"CHECK (((imdb_rating IS NULL) OR ((imdb_rating \u003e= (0)::numeric) AND (imdb_rating \u003c= (100)::numeric))))","table":"atp.media","referenced_table":"","columns":["imdb_rating"],"referenced_columns":[],"comment":""},{"name":"media_imdb_votes_check","type":"CHECK","def":"CHECK ((imdb_votes \u003e= 0))","table":"atp.media","referenced_table":"","columns":["imdb_votes"],"referenced_columns":[],"comment":""},{"name":"media_metascore_check","type":"CHECK","def":"CHECK (((metascore IS NULL) OR ((metascore \u003e= 0) AND (metascore \u003c= 100))))","table":"atp.media","referenced_table":"","columns":["metascore"],"referenced_columns":[],"comment":""},{"name":"media_release_year_check","type":"CHECK","def":"CHECK (((release_year \u003e= 1850) AND (release_year \u003c= 2100)))","table":"atp.media","referenced_table":"","columns":["release_year"],"referenced_columns":[],"comment":""},{"name":"media_revenue_check","type":"CHECK","def":"CHECK ((revenue \u003e= 0))","table":"atp.media","referenced_table":"","columns":["revenue"],"referenced_columns":[],"comment":""},{"name":"media_rt_score_check","type":"CHECK","def":"CHECK (((rt_score IS NULL) OR ((rt_score \u003e= 0) AND (rt_score \u003c= 100))))","table":"atp.media","referenced_table":"","columns":["rt_score"],"referenced_columns":[],"comment":""},{"name":"media_runtime_check","type":"CHECK","def":"CHECK ((runtime \u003e= 0))","table":"atp.media","referenced_table":"","columns":["runtime"],"referenced_columns":[],"comment":""},{"name":"media_tmdb_id_check","type":"CHECK","def":"CHECK ((tmdb_id \u003e 0))","table":"atp.media","referenced_table":"","columns":["tmdb_id"],"referenced_columns":[],"comment":""},{"name":"media_tmdb_rating_check","type":"CHECK","def":"CHECK (((tmdb_rating \u003e= (0)::numeric) AND (tmdb_rating \u003c= (10)::numeric)))","table":"atp.media","referenced_table":"","columns":["tmdb_rating"],"referenced_columns":[],"comment":""},{"name":"media_tmdb_votes_check","type":"CHECK","def":"CHECK ((tmdb_votes \u003e= 0))","table":"atp.media","referenced_table":"","columns":["tmdb_votes"],"referenced_columns":[],"comment":""},{"name":"media_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (hash)","table":"atp.media","referenced_table":"","columns":["hash"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"atp.training","type":"BASE TABLE","comment":"","columns":[{"name":"imdb_id","type":"varchar(10)","nullable":false,"default":null,"comment":""},{"name":"tmdb_id","type":"integer","nullable":true,"default":null,"comment":""},{"name":"label","type":"atp.label_type","nullable":false,"default":null,"comment":""},{"name":"human_labeled","type":"boolean","nullable":false,"default":"false","comment":""},{"name":"anomalous","type":"boolean","nullable":false,"default":"false","comment":""},{"name":"media_type","type":"atp.media_type","nullable":false,"default":null,"comment":""},{"name":"media_title","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"season","type":"smallint","nullable":true,"default":null,"comment":""},{"name":"episode","type":"smallint","nullable":true,"default":null,"comment":""},{"name":"release_year","type":"smallint","nullable":false,"default":null,"comment":""},{"name":"budget","type":"bigint","nullable":true,"default":null,"comment":""},{"name":"revenue","type":"bigint","nullable":true,"default":null,"comment":""},{"name":"runtime","type":"integer","nullable":true,"default":null,"comment":""},{"name":"origin_country","type":"character(2)[]","nullable":true,"default":null,"comment":""},{"name":"production_companies","type":"varchar(255)[]","nullable":true,"default":null,"comment":""},{"name":"production_countries","type":"character(2)[]","nullable":true,"default":null,"comment":""},{"name":"production_status","type":"varchar(25)","nullable":true,"default":null,"comment":""},{"name":"original_language","type":"character(2)","nullable":true,"default":null,"comment":""},{"name":"spoken_languages","type":"character(2)[]","nullable":true,"default":null,"comment":""},{"name":"genre","type":"varchar(20)[]","nullable":true,"default":null,"comment":""},{"name":"original_media_title","type":"varchar(255)","nullable":true,"default":null,"comment":""},{"name":"tagline","type":"varchar(255)","nullable":true,"default":null,"comment":""},{"name":"overview","type":"text","nullable":true,"default":null,"comment":""},{"name":"tmdb_rating","type":"numeric(5,3)","nullable":true,"default":null,"comment":""},{"name":"tmdb_votes","type":"integer","nullable":true,"default":null,"comment":""},{"name":"rt_score","type":"integer","nullable":true,"default":null,"comment":""},{"name":"metascore","type":"integer","nullable":true,"default":null,"comment":""},{"name":"imdb_rating","type":"numeric(4,1)","nullable":true,"default":null,"comment":""},{"name":"imdb_votes","type":"integer","nullable":true,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"(CURRENT_TIMESTAMP AT TIME ZONE 'UTC'::text)","comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"(CURRENT_TIMESTAMP AT TIME ZONE 'UTC'::text)","comment":""},{"name":"reviewed","type":"boolean","nullable":true,"default":"false","comment":"denotes whether or not element had been reviewed; determines inclusion into training data set"}],"indexes":[{"name":"training_pkey","def":"CREATE UNIQUE INDEX training_pkey ON atp.training USING btree (imdb_id)","table":"atp.training","columns":["imdb_id"],"comment":""},{"name":"training_tmdb_id_key","def":"CREATE UNIQUE INDEX training_tmdb_id_key ON atp.training USING btree (tmdb_id)","table":"atp.training","columns":["tmdb_id"],"comment":""},{"name":"idx_training_tmdb_id","def":"CREATE INDEX idx_training_tmdb_id ON atp.training USING btree (tmdb_id)","table":"atp.training","columns":["tmdb_id"],"comment":""}],"constraints":[{"name":"training_budget_check","type":"CHECK","def":"CHECK ((budget \u003e= 0))","table":"atp.training","referenced_table":"","columns":["budget"],"referenced_columns":[],"comment":""},{"name":"training_imdb_id_check","type":"CHECK","def":"CHECK (((imdb_id)::text ~ '^tt[0-9]{7,8}$'::text))","table":"atp.training","referenced_table":"","columns":["imdb_id"],"referenced_columns":[],"comment":""},{"name":"training_imdb_rating_check","type":"CHECK","def":"CHECK (((imdb_rating IS NULL) OR ((imdb_rating \u003e= (0)::numeric) AND (imdb_rating \u003c= (100)::numeric))))","table":"atp.training","referenced_table":"","columns":["imdb_rating"],"referenced_columns":[],"comment":""},{"name":"training_imdb_votes_check","type":"CHECK","def":"CHECK ((imdb_votes \u003e= 0))","table":"atp.training","referenced_table":"","columns":["imdb_votes"],"referenced_columns":[],"comment":""},{"name":"training_metascore_check","type":"CHECK","def":"CHECK (((metascore IS NULL) OR ((metascore \u003e= 0) AND (metascore \u003c= 100))))","table":"atp.training","referenced_table":"","columns":["metascore"],"referenced_columns":[],"comment":""},{"name":"training_release_year_check","type":"CHECK","def":"CHECK (((release_year \u003e= 1850) AND (release_year \u003c= 2100)))","table":"atp.training","referenced_table":"","columns":["release_year"],"referenced_columns":[],"comment":""},{"name":"training_revenue_check","type":"CHECK","def":"CHECK ((revenue \u003e= 0))","table":"atp.training","referenced_table":"","columns":["revenue"],"referenced_columns":[],"comment":""},{"name":"training_rt_score_check","type":"CHECK","def":"CHECK (((rt_score IS NULL) OR ((rt_score \u003e= 0) AND (rt_score \u003c= 100))))","table":"atp.training","referenced_table":"","columns":["rt_score"],"referenced_columns":[],"comment":""},{"name":"training_runtime_check","type":"CHECK","def":"CHECK ((runtime \u003e= 0))","table":"atp.training","referenced_table":"","columns":["runtime"],"referenced_columns":[],"comment":""},{"name":"training_tmdb_id_check","type":"CHECK","def":"CHECK ((tmdb_id \u003e 0))","table":"atp.training","referenced_table":"","columns":["tmdb_id"],"referenced_columns":[],"comment":""},{"name":"training_tmdb_rating_check","type":"CHECK","def":"CHECK (((tmdb_rating \u003e= (0)::numeric) AND (tmdb_rating \u003c= (10)::numeric)))","table":"atp.training","referenced_table":"","columns":["tmdb_rating"],"referenced_columns":[],"comment":""},{"name":"training_tmdb_votes_check","type":"CHECK","def":"CHECK ((tmdb_votes \u003e= 0))","table":"atp.training","referenced_table":"","columns":["tmdb_votes"],"referenced_columns":[],"comment":""},{"name":"training_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (imdb_id)","table":"atp.training","referenced_table":"","columns":["imdb_id"],"referenced_columns":[],"comment":""},{"name":"training_tmdb_id_key","type":"UNIQUE","def":"UNIQUE (tmdb_id)","table":"atp.training","referenced_table":"","columns":["tmdb_id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"atp.prediction","type":"BASE TABLE","comment":"stores training data to be ingested by reel-driver","columns":[{"name":"imdb_id","type":"varchar(10)","nullable":false,"default":null,"comment":"IMDB identifier for media item, and the primary key for this column"},{"name":"prediction","type":"smallint","nullable":false,"default":null,"comment":"model prediction value, 1 for would_watch and 0 for would_not_watch"},{"name":"probability","type":"numeric","nullable":false,"default":null,"comment":"probability of would_watch on 0 to 1 scale"},{"name":"cm_value","type":"character(2)","nullable":false,"default":null,"comment":"confusion matrix value, either ture positive, true negative, false postivie or false negative"},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"(CURRENT_TIMESTAMP AT TIME ZONE 'UTC'::text)","comment":"timestamp for initial database creation of item"}],"indexes":[{"name":"prediction_pkey","def":"CREATE UNIQUE INDEX prediction_pkey ON atp.prediction USING btree (imdb_id)","table":"atp.prediction","columns":["imdb_id"],"comment":""}],"constraints":[{"name":"prediction_imdb_id_check","type":"CHECK","def":"CHECK (((imdb_id)::text ~ '^tt[0-9]{7,8}$'::text))","table":"atp.prediction","referenced_table":"","columns":["imdb_id"],"referenced_columns":[],"comment":""},{"name":"prediction_prediction_check","type":"CHECK","def":"CHECK ((prediction = ANY (ARRAY[0, 1])))","table":"atp.prediction","referenced_table":"","columns":["prediction"],"referenced_columns":[],"comment":""},{"name":"prediction_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (imdb_id)","table":"atp.prediction","referenced_table":"","columns":["imdb_id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""}],"relations":[],"functions":[],"driver":{"name":"postgres","database_version":"PostgreSQL 17.5 on x86_64-pc-linux-musl, compiled by gcc (Alpine 14.2.0) 14.2.0, 64-bit","meta":{"current_schema":"public","search_paths":["postgres","public"],"dict":{"Functions":"Stored procedures and functions"}}}}
